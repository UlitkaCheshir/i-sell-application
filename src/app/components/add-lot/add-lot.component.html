<div class="container-fluid">

  <div class="row justify-content-center">

    <div class="col-6">

      <div class="row justify-content-center text-center">
        <h3>Добавление лота</h3>
      </div>

      <div class="row justify-content-center">

        <div class="row justify-content-center mat-elevation-z8 form-auth">

          <mat-form-field class="example-full-width col-12">
            <input name="lotTitle" matInput placeholder="Название товара" [(ngModel)]="lot.lotTitle" [formControl]="textFormControl">
            <mat-error *ngIf="textFormControl.hasError('pattern') && !textFormControl.hasError('required')">
              Введите корректное название. Длина от 3 до 30 символов
            </mat-error>
            <mat-error *ngIf="textFormControl.hasError('required')">
              Название <strong>обязательно</strong>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="example-full-width col-12">
            <textarea name="lotDescription" matInput placeholder="Описание" [(ngModel)]="lot.lotDescription" [formControl]="descriptionFormControl"></textarea>
            <mat-error *ngIf="descriptionFormControl.hasError('pattern') && !descriptionFormControl.hasError('required')">
              Введите корректное описание. Длина от 15 до 350 символов
            </mat-error>
            <mat-error *ngIf="descriptionFormControl.hasError('required')">
              Описание <strong>обязательно</strong>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="example-full-width col-12">
            <mat-select  [(ngModel)]="selectedCategory" placeholder="Категория">
              <mat-option *ngFor="let category of categories" [value]="category.categoryID">{{category.categoryTitle}}</mat-option>
            </mat-select>
            <mat-error *ngIf="selectedCategory === null">
              Выберите категорию
            </mat-error>
          </mat-form-field>

          <mat-form-field class="example-full-width col-12">
            <mat-select [(ngModel)]="selectedType" placeholder="Тип">
              <mat-option *ngFor="let type of lotTypes" [value]="type.lotTypeID">{{type.lotTypeTitle}}</mat-option>
            </mat-select>
            <mat-error *ngIf="selectedType === null">
              Выберите тип
            </mat-error>
          </mat-form-field>

          <mat-form-field class="col-12">

            <input [disabled]="selectedType && selectedType.lotTypeID === 1" matInput [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1" placeholder="Date Time">
            <owl-date-time #dt1></owl-date-time>

          </mat-form-field>

          <mat-form-field class="example-full-width col-12">
            <input name="lotStartingPrice" matInput placeholder="Стартовая цена" [(ngModel)]="lot.lotStartingPrice" [formControl]="priceFormControl">
            <mat-error *ngIf="priceFormControl.hasError('pattern') && !priceFormControl.hasError('required')">
              Введите корректную цену.
            </mat-error>
            <mat-error *ngIf="priceFormControl.hasError('required')">
              Цена <strong>обязательна</strong>
            </mat-error>
          </mat-form-field>

          <div  class="example-full-width col-12">
            <input type="file" name="lotPhoto" placeholder="Фото" (change)="onFileSelected($event)" [(ngModel)]="lot.lotPhoto">
          </div>

          <div class="row justify-content-center text-center">

            <div class="col-12">
              <button (click)="addLot( $event )" class="col-12" mat-stroked-button>Добавить Лот</button>
            </div>

          </div>

        </div>

      </div>

    </div>

  </div>

</div>
